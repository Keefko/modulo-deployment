(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["company"],{"0682":function(e,t,n){"use strict";n.r(t);n("b0c0"),n("a4d3"),n("e01a");var a=n("f2bf"),c=function(e){return Object(a["pushScopeId"])("data-v-04a88c09"),e=e(),Object(a["popScopeId"])(),e},o={key:1},i={key:0,class:"container"},l={key:1,class:"container-fluid"},r={class:"row mt-4"},s={class:"col-xxl-3 col-xl-4 mb-2"},m={class:"col-xxl-9 col-xl-8 mb-3"},d={class:"card mb-0"},b={class:"card-header bg-transparent d-flex"},p={class:"ms-auto"},u={class:"card-body p-0"},j={class:"row list-persons"},O={class:"col-xl-4 xl-50 col-md-5 box-col-6"},v={class:"nav flex-column nav-pills",id:"v-pills-tab1",role:"tablist","aria-orientation":"vertical"},y=["id","href","aria-controls","aria-selected"],f={class:"media"},g={class:"media-body"},E={class:"col-xl-8 xl-50 col-md-7 box-col-6"},h={class:"tab-content",id:"v-pills-tabContent1"},N=["id","aria-labelledby"],V={class:"profile-mail"},k={class:"media"},w={class:"media-body mt-0"},C={class:"ms-2"},B={class:"email-general"},_={class:"nav"},S={key:0},D={key:1,class:"nav-item pe-2 general-info"},x={class:"email-general"},T={class:"general-info"},P={class:"text-primary-blue ms-2"},$={class:"general-info mt-1"},L={class:"text-primary-blue ms-2"},I={class:"nav"},M={class:"nav-item"},F=["data-bs-target"],U={key:0,class:"nav-item"},A=["onClick"],J={class:"d-flex justify-content-center"},W={class:"card mb-0 mt-3"},z={class:"card-header bg-transparent d-flex"},H={class:"ms-auto"},Y={class:"btn btn-primary-blue ms-3","data-bs-toggle":"modal","data-bs-target":"#addTeam"},q=c((function(){return Object(a["createElementVNode"])("i",{class:"fas fa-users me-2"},null,-1)})),G={class:"card-body p-0"},K={class:"row list-persons"},Q={class:"col-xl-4 xl-50 col-md-5 box-col-6"},R={class:"nav flex-column nav-pills",id:"v-pills-tab1",role:"tablist","aria-orientation":"vertical"},X=["id","href","aria-controls","aria-selected"],Z={class:"media"},ee={class:"media-body"},te={class:"col-xl-8 xl-50 col-md-7 box-col-6"},ne={class:"tab-content",id:"v-pills-tabContent1"},ae=["id","aria-labelledby"],ce={class:"profile-mail"},oe={class:"media"},ie={class:"media-body mt-0"},le={class:"email-general"},re={class:"nav"},se={key:0},me={key:1,class:"nav-item pe-2 general-info"},de={class:"email-general"},be={class:"nav"},pe={key:0},ue={key:1,class:"nav-item pe-2 general-info"},je={class:"nav"},Oe={class:"nav-item"},ve=["data-bs-target"],ye={key:0,class:"nav-item"},fe=["onClick"],ge={class:"d-flex justify-content-center"};function Ee(e,t,n,c,Ee,he){var Ne=Object(a["resolveComponent"])("Spinner"),Ve=Object(a["resolveComponent"])("Breadcrumb"),ke=Object(a["resolveComponent"])("CreateOrJoin"),we=Object(a["resolveComponent"])("Navigation"),Ce=Object(a["resolveComponent"])("CompanyInfoForm"),Be=Object(a["resolveComponent"])("ChangePermissions"),_e=Object(a["resolveComponent"])("Pagination"),Se=Object(a["resolveComponent"])("CreateTeam"),De=Object(a["resolveComponent"])("MainContent");return Object(a["openBlock"])(),Object(a["createBlock"])(De,null,{default:Object(a["withCtx"])((function(){var n,c;return[e.loading?(Object(a["openBlock"])(),Object(a["createBlock"])(Ne,{key:0})):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",o,[Object(a["createVNode"])(Ve,{heading:e.$t("views.company_view.breadcrumb_heading"),third:e.$t("views.company_view.breadcrumb_heading")},null,8,["heading","third"]),e.isEmpty()?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",i,[Object(a["createVNode"])(ke)])):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",l,[Object(a["createElementVNode"])("div",r,[Object(a["createElementVNode"])("div",s,[Object(a["createVNode"])(we,{name:e.company.name,companyId:e.company.id},null,8,["name","companyId"]),Object(a["createVNode"])(Ce,{onSubmitData:t[0]||(t[0]=function(t){return e.changeCompanyInfo(t)}),id:"infoCompany",company1:e.company,title:e.$t("views.company_view.change_company_info")},null,8,["company1","title"])]),Object(a["createElementVNode"])("div",m,[Object(a["createElementVNode"])("div",d,[Object(a["createElementVNode"])("div",b,[Object(a["createElementVNode"])("h5",null,Object(a["toDisplayString"])(e.$t("views.company_view.members")),1),Object(a["createElementVNode"])("span",p,Object(a["toDisplayString"])(e.$t("views.company_view.number_of_members"))+" : "+Object(a["toDisplayString"])(null===(n=e.company.userEntityList)||void 0===n?void 0:n.length),1)]),Object(a["createElementVNode"])("div",u,[Object(a["createElementVNode"])("div",j,[Object(a["createElementVNode"])("div",O,[Object(a["createElementVNode"])("div",v,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(e.company.userEntityList,(function(e,t){return Object(a["openBlock"])(),Object(a["createElementBlock"])("a",{class:Object(a["normalizeClass"])(["nav-link",0==t?"active":""]),id:"tab"+e.surname+t,"data-bs-toggle":"pill",href:"#pill"+e.surname+t,role:"tab","aria-controls":"pill"+e.surname+t,"aria-selected":0==t,key:t},[Object(a["createElementVNode"])("div",f,[Object(a["createElementVNode"])("div",g,[Object(a["createElementVNode"])("h6",null,Object(a["toDisplayString"])(e.name)+" "+Object(a["toDisplayString"])(e.surname),1),Object(a["createElementVNode"])("p",null,Object(a["toDisplayString"])(e.email),1)])])],10,y)})),128))])]),Object(a["createElementVNode"])("div",E,[Object(a["createElementVNode"])("div",h,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(e.company.userEntityList,(function(n,c){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{class:Object(a["normalizeClass"])(["tab-pane fade show",0==c?"active":""]),key:c,id:"pill"+n.surname+c,role:"tabpanel","aria-labelledby":"pill"+n.surname+c},[Object(a["createElementVNode"])("div",V,[Object(a["createElementVNode"])("div",k,[Object(a["createElementVNode"])("div",w,[Object(a["createElementVNode"])("h5",null,[Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(n.name),1),Object(a["createElementVNode"])("span",C,Object(a["toDisplayString"])(n.surname),1)]),Object(a["createElementVNode"])("div",B,[Object(a["createElementVNode"])("h6",null,Object(a["toDisplayString"])(e.$t("views.company_view.teams")),1),Object(a["createElementVNode"])("ul",_,[e.hasMemberAnyTeam()?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",S,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(e.getMemberTeams(),(function(e,t){return Object(a["openBlock"])(),Object(a["createElementBlock"])("li",{class:"nav-item pe-2 general-info",key:t},Object(a["toDisplayString"])(e.name),1)})),128))])):(Object(a["openBlock"])(),Object(a["createElementBlock"])("li",D,Object(a["toDisplayString"])(e.$t("views.company_view.no_team_yet")),1))])]),Object(a["createElementVNode"])("div",x,[Object(a["createElementVNode"])("h6",null,Object(a["toDisplayString"])(e.$t("views.company_view.general_info")),1),Object(a["createElementVNode"])("div",T,[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("views.company_view.email_adress"))+" ",1),Object(a["createElementVNode"])("span",P,Object(a["toDisplayString"])(n.email),1)]),Object(a["createElementVNode"])("div",$,[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("views.company_view.phone_number"))+" ",1),Object(a["createElementVNode"])("span",L,Object(a["toDisplayString"])(n.phoneNumber),1)])]),Object(a["createElementVNode"])("ul",I,[Object(a["createElementVNode"])("li",M,[Object(a["createElementVNode"])("a",{class:"nav-link","data-bs-toggle":"modal","data-bs-target":"#changePermission"+n.id},Object(a["toDisplayString"])(e.$t("views.company_view.change_permissions")),9,F)]),Object(a["createTextVNode"])(" "+Object(a["toDisplayString"])(e.permission.removeUserToCompany)+" ",1),e.permission.removeUserToCompany?(Object(a["openBlock"])(),Object(a["createElementBlock"])("li",U,[Object(a["createElementVNode"])("a",{class:"nav-link",onClick:function(t){return e.removeUserFromCompany(n.id)}},Object(a["toDisplayString"])(e.$t("views.company_view.remove")),9,A)])):Object(a["createCommentVNode"])("",!0)]),e.permission.changePermissions?(Object(a["openBlock"])(),Object(a["createBlock"])(Be,{key:0,company:e.company,id:"changePermission"+n.id,permision:n.permissionEntity.name,userId:n.id,onChangePermision:t[1]||(t[1]=function(t){return e.changePermision(t)}),title:e.$t("views.company_view.change_permissions")},null,8,["company","id","permision","userId","title"])):Object(a["createCommentVNode"])("",!0)])])])],10,N)})),128))])]),Object(a["createElementVNode"])("div",J,[Object(a["createVNode"])(_e,{class:"mx-auto mt-2",onHandlePaging:t[2]||(t[2]=function(t){return e.handleMemberPaging(t)})})])])])]),Object(a["createElementVNode"])("div",W,[Object(a["createElementVNode"])("div",z,[Object(a["createElementVNode"])("h5",null,Object(a["toDisplayString"])(e.$t("views.company_view.teams")),1),Object(a["createElementVNode"])("span",H,[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("views.company_view.number_of_teams"))+" : "+Object(a["toDisplayString"])(null===(c=e.company.teamEntityList)||void 0===c?void 0:c.length)+" ",1),Object(a["createElementVNode"])("button",Y,[q,Object(a["createTextVNode"])(" "+Object(a["toDisplayString"])(e.$t("views.company_view.add_team")),1)])]),Object(a["createVNode"])(Se,{id:"addTeam",title:e.$t("views.company_view.add_team"),onSubmitData:t[3]||(t[3]=function(t){return e.createTeam(t)})},null,8,["title"])]),Object(a["createElementVNode"])("div",G,[Object(a["createElementVNode"])("div",K,[Object(a["createElementVNode"])("div",Q,[Object(a["createElementVNode"])("div",R,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(e.company.teamEntityList,(function(e,t){return Object(a["openBlock"])(),Object(a["createElementBlock"])("a",{class:Object(a["normalizeClass"])(["nav-link",0==t?"active":""]),id:"tabteam"+t,"data-bs-toggle":"pill",href:"#pillteam"+t,role:"tab","aria-controls":"pillteam"+t,"aria-selected":0==t,key:t},[Object(a["createElementVNode"])("div",Z,[Object(a["createElementVNode"])("div",ee,[Object(a["createElementVNode"])("h6",null,Object(a["toDisplayString"])(e.name),1)])])],10,X)})),128))])]),Object(a["createElementVNode"])("div",te,[Object(a["createElementVNode"])("div",ne,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(e.company.teamEntityList,(function(n,c){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{class:Object(a["normalizeClass"])(["tab-pane fade show",0==c?"active":""]),key:c,id:"pillteam"+c,role:"tabpanel","aria-labelledby":"pillteam"+c},[Object(a["createElementVNode"])("div",ce,[Object(a["createElementVNode"])("div",oe,[Object(a["createElementVNode"])("div",ie,[Object(a["createElementVNode"])("h5",null,[Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(n.name),1)]),Object(a["createElementVNode"])("p",null,Object(a["toDisplayString"])(n.description),1),Object(a["createElementVNode"])("div",le,[Object(a["createElementVNode"])("h6",null,Object(a["toDisplayString"])(e.$t("views.company_view.members")),1),Object(a["createElementVNode"])("ul",re,[n.userEntityList.length>0?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",se,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(n.userEntityList,(function(e,t){return Object(a["openBlock"])(),Object(a["createElementBlock"])("li",{class:"nav-item pe-2 general-info",key:t},Object(a["toDisplayString"])(e.name)+" "+Object(a["toDisplayString"])(e.surname),1)})),128))])):(Object(a["openBlock"])(),Object(a["createElementBlock"])("li",me,Object(a["toDisplayString"])(e.$t("views.company_view.no_member_yet")),1))])]),Object(a["createElementVNode"])("div",de,[Object(a["createElementVNode"])("h6",null,Object(a["toDisplayString"])(e.$t("views.company_view.modules")),1),Object(a["createElementVNode"])("ul",be,[n.moduleEntityList.length>0?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",pe,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(n.moduleEntityList,(function(e,t){return Object(a["openBlock"])(),Object(a["createElementBlock"])("li",{class:"nav-item pe-2 general-info",key:t},Object(a["toDisplayString"])(e.name),1)})),128))])):(Object(a["openBlock"])(),Object(a["createElementBlock"])("li",ue,Object(a["toDisplayString"])(e.$t("views.company_view.no_modules_yet")),1))])]),Object(a["createElementVNode"])("ul",je,[Object(a["createElementVNode"])("li",Oe,[e.permission.addTeam?(Object(a["openBlock"])(),Object(a["createElementBlock"])("a",{key:0,class:"nav-link","data-bs-toggle":"modal","data-bs-target":"#editTeam"+n.id},Object(a["toDisplayString"])(e.$t("views.company_view.edit_team")),9,ve)):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(Se,{id:"editTeam"+n.id,title:e.$t("views.company_view.edit_team"),team1:n,onSubmitData:t[4]||(t[4]=function(t){return e.createTeam(t)})},null,8,["id","title","team1"])]),e.permission.removeTeam?(Object(a["openBlock"])(),Object(a["createElementBlock"])("li",ye,[Object(a["createElementVNode"])("a",{class:"nav-link",href:"javascript:void(0)",onClick:function(t){return e.removeTeamFromCompany(n.id)}},Object(a["toDisplayString"])(e.$t("views.company_view.remove")),9,fe)])):Object(a["createCommentVNode"])("",!0)])])])])],10,ae)})),128))])]),Object(a["createElementVNode"])("div",ge,[Object(a["createVNode"])(_e,{onHandlePaging:t[5]||(t[5]=function(t){return e.handleTeamPaging(t)}),class:"mt-2"})])])])])])])]))]))]})),_:1})}n("4de4"),n("d3b7"),n("b64b"),n("159b");var he=n("c2a5"),Ne={class:"card"},Ve={class:"card-body"},ke={class:"mt-2 ms-2"},we={class:"mt-2 ms-2 fw-bolder"},Ce={class:"navbar-nav sidebar sidebar-dark mt-3"},Be={class:"nav-item"},_e={class:"nav-link fw-bolder",type:"button","data-bs-toggle":"modal","data-bs-target":"#infoCompany"},Se=Object(a["createElementVNode"])("i",{class:"fas fa-info-circle"},null,-1),De={class:"ps-2"},xe={class:"nav-item"},Te={class:"nav-link fw-bolder text-danger"},Pe=Object(a["createElementVNode"])("i",{class:"fas fa-times"},null,-1),$e={class:"ps-2"};function Le(e,t,n,c,o,i){var l=Object(a["resolveComponent"])("NavLink");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Ne,[Object(a["createElementVNode"])("div",Ve,[Object(a["createElementVNode"])("h4",ke,Object(a["toDisplayString"])(n.name),1),Object(a["createElementVNode"])("p",we,"# "+Object(a["toDisplayString"])(n.companyId),1),Object(a["createElementVNode"])("ul",Ce,[Object(a["createElementVNode"])("li",Be,[Object(a["createElementVNode"])("a",_e,[Se,Object(a["createElementVNode"])("span",De,Object(a["toDisplayString"])(e.$t("views.company_view.change_company_info")),1)])]),Object(a["createVNode"])(l,{path:"/permissions/"+n.companyId,label:e.$t("views.company_view.manage_permission"),icon:"fas fa-user-lock"},null,8,["path","label"]),Object(a["createElementVNode"])("li",xe,[Object(a["createElementVNode"])("a",Te,[Pe,Object(a["createElementVNode"])("span",$e,Object(a["toDisplayString"])(e.$t("views.company_view.change_company_info")),1)])])])])])}n("a9e3");var Ie=n("a2c1"),Me={name:"Navigation",props:{name:String,companyId:Number},components:{NavLink:Ie["a"]}},Fe=n("6b0d"),Ue=n.n(Fe);const Ae=Ue()(Me,[["render",Le]]);var Je=Ae,We=n("2fbc"),ze={"aria-label":"Page navigation example"},He={class:"pagination"},Ye={class:"page-item"},qe=Object(a["createElementVNode"])("span",{"aria-hidden":"true"},"«",-1),Ge=Object(a["createElementVNode"])("span",{class:"sr-only"},"Previous",-1),Ke=[qe,Ge],Qe={class:"page-item"},Re={class:"page-item"},Xe={class:"page-item"},Ze={class:"page-item"},et=Object(a["createElementVNode"])("span",{"aria-hidden":"true"},"»",-1),tt=Object(a["createElementVNode"])("span",{class:"sr-only"},"Next",-1),nt=[et,tt];function at(e,t,n,c,o,i){return Object(a["openBlock"])(),Object(a["createElementBlock"])("nav",ze,[Object(a["createElementVNode"])("ul",He,[Object(a["createElementVNode"])("li",Ye,[Object(a["createElementVNode"])("a",{class:"page-link",href:"#",onClick:t[0]||(t[0]=function(t){return e.nextPrev(-1)}),"aria-label":"Previous"},Ke)]),Object(a["createElementVNode"])("li",Qe,[Object(a["createElementVNode"])("a",{class:"page-link",onClick:t[1]||(t[1]=function(t){return e.changePage(1)}),href:"#"},"1")]),Object(a["createElementVNode"])("li",Re,[Object(a["createElementVNode"])("a",{class:"page-link",onClick:t[2]||(t[2]=function(t){return e.changePage(2)}),href:"#"},"2")]),Object(a["createElementVNode"])("li",Xe,[Object(a["createElementVNode"])("a",{class:"page-link",onClick:t[3]||(t[3]=function(t){return e.changePage(3)}),href:"#"},"3")]),Object(a["createElementVNode"])("li",Ze,[Object(a["createElementVNode"])("a",{class:"page-link",href:"#",onClick:t[4]||(t[4]=function(t){return e.nextPrev(1)}),"aria-label":"Next"},nt)])])])}var ct=n("5c40"),ot=Object(ct["E"])({name:"Pagination",data:function(){return{pageNumber:1}},emits:["handlePaging"],methods:{changePage:function(e){this.pageNumber=e,this.$emit("handlePaging",{page:e})},nextPrev:function(e){var t=this.pageNumber+e;this.pageNumber=t,this.$emit("handlePaging",{page:t})}}});const it=Ue()(ot,[["render",at]]);var lt=it,rt=n("2133"),st={class:"modal-body"},mt={class:"form-group"},dt={for:"name",class:"fw-bolder"},bt=["placeholder"],pt={class:"modal-footer bg-light"},ut=["value"];function jt(e,t,n,c,o,i){var l=Object(a["resolveComponent"])("ModalBasicWindow");return Object(a["openBlock"])(),Object(a["createBlock"])(l,{identifier:e.id,title:e.title},{default:Object(a["withCtx"])((function(){return[Object(a["createElementVNode"])("form",{onSubmit:t[2]||(t[2]=Object(a["withModifiers"])((function(){}),["prevent"])),class:"tab-content"},[Object(a["createElementVNode"])("div",st,[Object(a["createElementVNode"])("div",mt,[Object(a["createElementVNode"])("label",dt,Object(a["toDisplayString"])(e.$t("views.company_view.company_info_form_name")),1),Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.company.name=t}),id:"name",placeholder:e.$t("views.company_view.company_info_form_name")},null,8,bt),[[a["vModelText"],e.company.name]])])]),Object(a["createElementVNode"])("div",pt,[Object(a["createElementVNode"])("input",{type:"submit",class:"btn btn-primary-blue","data-bs-dismiss":"modal",onClick:t[1]||(t[1]=function(t){return e.submitData()}),value:e.title},null,8,ut)])],32)]})),_:1},8,["identifier","title"])}var Ot=n("5e6f"),vt=Object(ct["E"])({name:"CompanyInfoForm",props:["id","title","company1"],data:function(){return{company:{}}},created:function(){void 0!=this.company1&&(this.company=this.company1)},components:{ModalBasicWindow:Ot["a"]},methods:{submitData:function(){this.$emit("submitData",{data:this.company})}}});const yt=Ue()(vt,[["render",jt]]);var ft=yt,gt={class:"modal-body"},Et={class:"form-group"},ht={for:"email",class:"fw-bolder"},Nt=["value"],Vt=["value"],kt={class:"modal-footer bg-light"},wt=["value"];function Ct(e,t,n,c,o,i){var l=Object(a["resolveComponent"])("ModalBasicWindow");return Object(a["openBlock"])(),Object(a["createBlock"])(l,{identifier:e.id,title:e.title},{default:Object(a["withCtx"])((function(){return[Object(a["createElementVNode"])("form",{onSubmit:t[2]||(t[2]=Object(a["withModifiers"])((function(){}),["prevent"]))},[Object(a["createElementVNode"])("div",gt,[Object(a["createElementVNode"])("div",Et,[Object(a["createElementVNode"])("label",ht,Object(a["toDisplayString"])(e.$t("views.company_view.choose_permision")),1),Object(a["createElementVNode"])("select",{class:"w-50 form-select mt-2",value:e.permision,onChange:t[0]||(t[0]=function(t){return e.changePerm(t.target.value)})},[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(e.company.permissionEntityList,(function(e,t){return Object(a["openBlock"])(),Object(a["createElementBlock"])("option",{key:t,value:e.name},Object(a["toDisplayString"])(e.name),9,Vt)})),128))],40,Nt)])]),Object(a["createElementVNode"])("div",kt,[Object(a["createElementVNode"])("input",{type:"submit",class:"btn btn-primary-blue","data-bs-dismiss":"modal",onClick:t[1]||(t[1]=function(t){return e.submitData()}),value:e.title},null,8,wt)])],32)]})),_:1},8,["identifier","title"])}var Bt=Object(ct["E"])({name:"ChangePermissions",props:["id","title","company","permision","userId"],emits:["changePermision"],data:function(){return{newPermision:{}}},components:{ModalBasicWindow:Ot["a"]},methods:{submitData:function(){this.$emit("changePermision",{permission:this.newPermision,userId:this.userId})},changePerm:function(e){this.newPermision=this.company.permissionEntityList.filter((function(t){return t.name=e}))}}});const _t=Ue()(Bt,[["render",Ct]]);var St=_t,Dt=n("2375"),xt={class:"modal-body"},Tt={class:"form-group"},Pt={for:"name",class:"fw-bolder"},$t=["placeholder"],Lt={class:"form-group"},It={for:"name",class:"fw-bolder"},Mt=["placeholder"],Ft={class:"modal-footer bg-light"},Ut=["value"];function At(e,t,n,c,o,i){var l=Object(a["resolveComponent"])("ModalBasicWindow");return Object(a["openBlock"])(),Object(a["createBlock"])(l,{identifier:e.id,title:e.title},{default:Object(a["withCtx"])((function(){return[Object(a["createElementVNode"])("form",{onSubmit:t[3]||(t[3]=Object(a["withModifiers"])((function(){}),["prevent"]))},[Object(a["createElementVNode"])("div",xt,[Object(a["createElementVNode"])("div",Tt,[Object(a["createElementVNode"])("label",Pt,Object(a["toDisplayString"])(e.$t("views.company_view.team_name")),1),Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.team.name=t}),class:"form-control",placeholder:e.$t("views.company_view.team_name")},null,8,$t),[[a["vModelText"],e.team.name]])]),Object(a["createElementVNode"])("div",Lt,[Object(a["createElementVNode"])("label",It,Object(a["toDisplayString"])(e.$t("views.company_view.description")),1),Object(a["withDirectives"])(Object(a["createElementVNode"])("textarea",{"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.team.description=t}),class:"form-control",placeholder:e.$t("views.company_view.description")},"\r\n                    ",8,Mt),[[a["vModelText"],e.team.description]])])]),Object(a["createElementVNode"])("div",Ft,[Object(a["createElementVNode"])("input",{type:"submit",class:"btn btn-primary-blue","data-bs-dismiss":"modal",onClick:t[2]||(t[2]=function(t){return e.submitData()}),value:e.title},null,8,Ut)])],32)]})),_:1},8,["identifier","title"])}var Jt=Object(ct["E"])({name:"CreateTeam",props:["team1","id","title"],emits:["submitData"],components:{ModalBasicWindow:Ot["a"]},data:function(){return{team:{}}},created:function(){void 0!=this.team1&&(this.team=this.team1)},methods:{submitData:function(){this.$emit("submitData",this.team)}}});const Wt=Ue()(Jt,[["render",At]]);var zt=Wt,Ht=(n("a15b"),Object(a["createElementVNode"])("div",{class:"d-flex text-center justify-content-center flex-column mt-4"},[Object(a["createElementVNode"])("h3",null,"You are not member of any company. Join company or create new."),Object(a["createElementVNode"])("div",{class:"mt-3"},[Object(a["createElementVNode"])("button",{class:"btn btn-primary-blue w-25 me-2","data-bs-toggle":"modal","data-bs-target":"#joinCompany"},"Join"),Object(a["createElementVNode"])("button",{class:"btn btn-primary-blue w-25","data-bs-toggle":"modal","data-bs-target":"#createCompany"},"Create")])],-1)),Yt={class:"modal-body"},qt={class:"form-group"},Gt=Object(a["createElementVNode"])("label",{for:"id",class:"fw-bolder text-start"},"Company Id",-1),Kt={class:"modal-footer bg-light"},Qt=["value"],Rt={class:"modal-body"},Xt={class:"form-group mb-2"},Zt=Object(a["createElementVNode"])("label",{for:"name",class:"fw-bolder"},"Name",-1),en={class:"modal-footer bg-light"},tn=["value"];function nn(e,t,n,c,o,i){var l=Object(a["resolveComponent"])("ModalBasicWindow");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Ht,Object(a["createVNode"])(l,{identifier:"joinCompany",title:e.$t("buttons.add_component")},{default:Object(a["withCtx"])((function(){return[Object(a["createElementVNode"])("form",{onSubmit:t[2]||(t[2]=Object(a["withModifiers"])((function(){}),["prevent"]))},[Object(a["createElementVNode"])("div",Yt,[Object(a["createElementVNode"])("div",qt,[Gt,Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{type:"text",class:"form-control",id:"id","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.companyId=t}),placeholder:"Company Id"},null,512),[[a["vModelText"],e.companyId]])])]),Object(a["createElementVNode"])("div",Kt,[Object(a["createElementVNode"])("input",{type:"submit",class:"btn btn-primary-blue","data-bs-dismiss":"modal",onClick:t[1]||(t[1]=function(t){return e.join()}),value:e.title},null,8,Qt)])],32)]})),_:1},8,["title"]),Object(a["createVNode"])(l,{identifier:"createCompany",title:e.$t("buttons.add_component")},{default:Object(a["withCtx"])((function(){return[Object(a["createElementVNode"])("form",{onSubmit:t[5]||(t[5]=Object(a["withModifiers"])((function(){}),["prevent"]))},[Object(a["createElementVNode"])("div",Rt,[Object(a["createElementVNode"])("div",Xt,[Zt,Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{type:"text",class:"form-control","onUpdate:modelValue":t[3]||(t[3]=function(t){return e.company.name=t}),id:"name",placeholder:"Company Name"},null,512),[[a["vModelText"],e.company.name]])])]),Object(a["createElementVNode"])("div",en,[Object(a["createElementVNode"])("input",{type:"submit",class:"btn btn-primary-blue","data-bs-dismiss":"modal",onClick:t[4]||(t[4]=function(t){return e.create()}),value:e.title},null,8,tn)])],32)]})),_:1},8,["title"])],64)}var an=Object(ct["E"])({name:"CreateOrJoin",data:function(){return{companyId:"",company:{},user:{},permission:{}}},components:{ModalBasicWindow:Ot["a"]},methods:{join:function(){var e=this;this.user=Object.assign({},JSON.parse(sessionStorage.getItem("user")||"{}")),he["a"].getCompany(this.companyId).then((function(t){var n,a;e.company=t.data,e.user.permissionEntity=null===(n=e.company.permissionEntityList)||void 0===n?void 0:n.filter((function(e){return"User"==e.name}))[0],null===(a=e.company.userEntityList)||void 0===a||a.push(e.user),e.addCompany()})).catch((function(e){console.log(e)}))},create:function(){var e,t,n;this.user=Object.assign({},JSON.parse(sessionStorage.getItem("user")||"{}")),this.company.permissionEntityList=new Array,this.company.userEntityList=new Array,this.company.teamEntityList=new Array;var a=this.createDefaultPermissions("Admin",!0,!0,!0,!0,!0,!0,!0,!0,!0,!0);null===(e=this.company.permissionEntityList)||void 0===e||e.push(a);var c=this.createDefaultPermissions("User",!1,!1,!1,!1,!1,!1,!1,!1,!1,!1);null===(t=this.company.permissionEntityList)||void 0===t||t.push(c),this.user.permissionEntity=a,null===(n=this.company.userEntityList)||void 0===n||n.push(this.user),this.addCompany()},addCompany:function(){var e=this;he["a"].addCompany(this.company).then((function(t){e.company=t.data,window.location.reload()})).catch((function(e){console.log(e)}))},createDefaultPermissions:function(e,t,n,a,c,o,i,l,r,s,m){var d={};return d.companyId=void 0!=this.user.company?this.user.company:"",d.editModule=a,d.name=e,d.addMemberToCompany=t,d.removeMemberToCompany=n,d.changePermissions=c,d.addTeam=o,d.removeTeam=i,d.addModule=l,d.removeModule=r,d.assertModuleToTeam=s,d.assertUserToTeam=m,d}}});const cn=Ue()(an,[["render",nn]]);var on=cn,ln=n("b1d7"),rn=Object(a["defineComponent"])({name:"CompanyView",components:{MainContent:rt["a"],Breadcrumb:We["a"],Pagination:lt,CompanyInfoForm:ft,ChangePermissions:St,Spinner:Dt["a"],CreateTeam:zt,CreateOrJoin:on,Navigation:Je},props:["id"],data:function(){return{company:{},loading:!0,members:[],teams:[],permission:{}}},created:function(){var e=this,t=Object.assign({},JSON.parse(sessionStorage.getItem("user")||"{}"));t.permissionEntity&&(this.permission=t.permissionEntity);var n=void 0!=t.id?t.id:"";he["a"].getCompanyIdByUserId(n).then((function(t){e.company=t.data[0],e.loading=!1})).catch((function(t){console.log(t),e.loading=!1}))},methods:{removeUserFromCompany:function(e){var t;this.company.userEntityList=null===(t=this.company.userEntityList)||void 0===t?void 0:t.filter((function(t){return t.id!=e})),this.updateCompany()},removeTeamFromCompany:function(e){var t;ln["a"].removeTeam(e).then((function(){console.log("fess ppci")})),this.company.teamEntityList=null===(t=this.company.teamEntityList)||void 0===t?void 0:t.filter((function(t){return t.id!=e})),this.updateCompany()},isEmpty:function(){return 0==Object.keys(this.company).length},handleMemberPaging:function(e){console.log(e)},handleTeamPaging:function(e){console.log(e)},changeCompanyInfo:function(e){this.company=e,this.updateCompany()},createTeam:function(e){var t;if(console.log(e),void 0!=e.id&&""!=e.id)this.removeTeamFromCompany(e.id);else{e.userEntityList=new Array;var n=Object.assign({},JSON.parse(sessionStorage.getItem("user")||"{}"));e.userEntityList.push(n),e.moduleEntityList=new Array}null===(t=this.company.teamEntityList)||void 0===t||t.push(e),this.updateCompany()},updateCompany:function(){var e=this;he["a"].addCompany(this.company).then((function(t){e.company=t.data})).catch((function(e){console.log(e)}))},ChangePermissions:function(){console.log("perm")},hasMemberAnyTeam:function(e){var t;return null===(t=this.company.teamEntityList)||void 0===t||t.forEach((function(t){var n,a=null===(n=t.userEntityList)||void 0===n?void 0:n.filter((function(t){return t.id==e}));if(void 0!=a&&a.length>0)return!0})),!1},getMemberTeams:function(e){var t,n=new Array;return null===(t=this.company.teamEntityList)||void 0===t||t.forEach((function(t){var a,c=null===(a=t.userEntityList)||void 0===a?void 0:a.filter((function(t){return t.id==e}));void 0!=c&&c.length>0&&n.push(t)})),n}}});n("5721");const sn=Ue()(rn,[["render",Ee],["__scopeId","data-v-04a88c09"]]);t["default"]=sn},2375:function(e,t,n){"use strict";var a=n("f2bf"),c={class:"loading-bg"},o=Object(a["createElementVNode"])("div",{class:"loading"},null,-1),i=Object(a["createElementVNode"])("p",{class:"fw-bolder mt-4"},"Loading...",-1),l=[o,i];function r(e,t,n,o,i,r){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",c,l)}var s={name:"Spinner"},m=(n("6c00"),n("6b0d")),d=n.n(m);const b=d()(s,[["render",r]]);t["a"]=b},"2fbc":function(e,t,n){"use strict";var a=n("f2bf"),c={class:"container-fluid"},o={class:"page-header"},i={class:"row"},l={class:"col-sm-6"},r={class:"breadcrumb"},s={class:"breadcrumb-item"},m={key:0,class:"breadcrumb-item"},d={class:"breadcrumb-item active"};function b(e,t,n,b,p,u){var j=Object(a["resolveComponent"])("router-link");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",c,[Object(a["createElementVNode"])("div",o,[Object(a["createElementVNode"])("div",i,[Object(a["createElementVNode"])("div",l,[Object(a["createElementVNode"])("h3",null,Object(a["toDisplayString"])(e.heading),1),Object(a["createElementVNode"])("ol",r,[Object(a["createElementVNode"])("li",s,[Object(a["createVNode"])(j,{to:"/home"},{default:Object(a["withCtx"])((function(){return[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("main_content.home_breadcrumb")),1)]})),_:1})]),e.second?(Object(a["openBlock"])(),Object(a["createElementBlock"])("li",m,[Object(a["createVNode"])(j,{to:e.secondPath},{default:Object(a["withCtx"])((function(){return[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.second),1)]})),_:1},8,["to"])])):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("li",d,Object(a["toDisplayString"])(e.third),1)])])])])])}var p=n("5c40"),u=Object(p["E"])({name:"Breadcrumb",props:["heading","second","secondPath","third"]}),j=(n("9b99"),n("6b0d")),O=n.n(j);const v=O()(u,[["render",b],["__scopeId","data-v-3ce5cf6a"]]);t["a"]=v},"4bc7":function(e,t,n){},5721:function(e,t,n){"use strict";n("bcb5")},"6c00":function(e,t,n){"use strict";n("4bc7")},"9b99":function(e,t,n){"use strict";n("9d30")},"9d30":function(e,t,n){},a15b:function(e,t,n){"use strict";var a=n("23e7"),c=n("e330"),o=n("44ad"),i=n("fc6a"),l=n("a640"),r=c([].join),s=o!=Object,m=l("join",",");a({target:"Array",proto:!0,forced:s||!m},{join:function(e){return r(i(this),void 0===e?",":e)}})},b1d7:function(e,t,n){"use strict";var a=n("d4ec"),c=n("bee2"),o=n("5a15"),i=function(){function e(){Object(a["a"])(this,e)}return Object(c["a"])(e,[{key:"getTeamById",value:function(e){return o["a"].get("team/getTeamById/"+e)}},{key:"getTeamsByUserID",value:function(e){return o["a"].get("team/getAllTeamsByUserId/"+e)}},{key:"getAllTeamsByCompanyId",value:function(e){return o["a"].get("team/getAllTeamsByCompany?company="+e)}},{key:"addTeam",value:function(e){return o["a"].post("team/addTeam",e)}},{key:"removeTeam",value:function(e){return o["a"].delete("team/deleteTeam/"+e)}}]),e}();t["a"]=new i},bcb5:function(e,t,n){},e01a:function(e,t,n){"use strict";var a=n("23e7"),c=n("83ab"),o=n("da84"),i=n("e330"),l=n("1a2d"),r=n("1626"),s=n("3a9b"),m=n("577e"),d=n("9bf2").f,b=n("e893"),p=o.Symbol,u=p&&p.prototype;if(c&&r(p)&&(!("description"in u)||void 0!==p().description)){var j={},O=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:m(arguments[0]),t=s(u,this)?new p(e):void 0===e?p():p(e);return""===e&&(j[t]=!0),t};b(O,p),O.prototype=u,u.constructor=O;var v="Symbol(test)"==String(p("test")),y=i(u.toString),f=i(u.valueOf),g=/^Symbol\((.*)\)[^)]+$/,E=i("".replace),h=i("".slice);d(u,"description",{configurable:!0,get:function(){var e=f(this),t=y(e);if(l(j,e))return"";var n=v?h(t,7,-1):E(t,g,"$1");return""===n?void 0:n}}),a({global:!0,forced:!0},{Symbol:O})}}}]);
//# sourceMappingURL=company.74199425.js.map